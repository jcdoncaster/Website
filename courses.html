<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Our Courses | Maven Academy</title>
    <link rel="icon" type="image/jpeg" href="maven-logo.jpg">
    <style>
        /* CSS Variables for Theme Management */
        :root {
            --bg-color: #0a0a2a;
            --text-color: #f0f0f0;
            --text-muted: rgba(240, 240, 240, 0.7);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-hover: rgba(255, 255, 255, 0.15);
            --shadow-color: rgba(0, 0, 0, 0.3);
            --star-color: #ffffff;
            --connection-color: rgba(255, 255, 255, 0.3);
            --accent-color: #4a90e2;
            --accent-hover: #5da2ff;
        }

        .light-theme {
            --bg-color: #f0f2f5;
            --text-color: #2c3e50;
            --text-muted: rgba(44, 62, 80, 0.7);
            --glass-bg: rgba(255, 255, 255, 0.8);
            --glass-border: rgba(255, 255, 255, 0.9);
            --glass-hover: rgba(255, 255, 255, 0.9);
            --shadow-color: rgba(0, 0, 0, 0.1);
            --star-color: #2c3e50;
            --connection-color: rgba(44, 62, 80, 0.2);
            --accent-color: #3498db;
            --accent-hover: #2980b9;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
            height: 100%;
            overflow: auto;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            line-height: 1.6;
            transition: background-color 1.2s ease, color 1.2s ease;
            min-height: 100vh;
            position: relative;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Night Mode Toggle */
        #night-mode-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 1000;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.3rem;
            backdrop-filter: blur(15px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        #night-mode-toggle:hover {
            transform: translateY(-2px) scale(1.1);
            background: var(--glass-hover);
            box-shadow: 0 6px 20px var(--shadow-color);
        }

        /* Star Background Styles */
        #starCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            pointer-events: none;
            background: var(--bg-color);
            opacity: 0.85;
        }

        /* Header Navigation */
        #header-nav {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1000;
        }

        .home-button {
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0.8rem 1.5rem;
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
        }

        .home-button:hover {
            color: var(--text-color);
            border-color: var(--accent-color);
            background: var(--glass-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px var(--shadow-color);
        }
        
        /* Main Content Styles */
        #main-content {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--text-color);
            padding: 1rem;
            text-align: center;
        }
        
        .page-heading {
            font-size: clamp(2rem, 7vw, 3.5rem);
            font-weight: 300;
            color: var(--text-color);
            margin-bottom: 1rem;
            line-height: 1.2;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }

        .page-subheading {
            font-size: clamp(1rem, 3.5vw, 1.5rem);
            font-weight: 300;
            color: var(--text-muted);
            margin-bottom: 3rem;
            max-width: 600px;
        }
        
        /* Content Sections */
        .content-section {
            padding: clamp(2rem, 5vw, 4rem) 1rem;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.5s cubic-bezier(0.19, 1, 0.22, 1);
            width: 100%;
        }
        
        .content-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .section-content {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 2rem 1.5rem;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 10px 25px var(--shadow-color);
            transition: all 0.8s ease;
        }
        
        .section-content:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px var(--shadow-color);
        }
        
        .section-content h2 {
            font-size: clamp(1.5rem, 5vw, 2.2rem);
            margin-bottom: 1.5rem;
            color: var(--text-color);
            font-weight: 300;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }
        
        .section-content h3 {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            margin: 1.5rem 0 1rem;
            color: var(--accent-color);
            font-weight: 400;
        }
        
        .section-content p {
            font-size: clamp(0.95rem, 3vw, 1.1rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 1.2rem;
        }

        .section-content ul {
            text-align: left;
            margin: 1.5rem 0;
            padding-left: 1.2rem;
        }

        .section-content li {
            margin-bottom: 0.8rem;
            font-size: clamp(0.9rem, 3vw, 1rem);
        }
        
        /* Pricing Cards */
        .pricing-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .pricing-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.5s ease;
            box-shadow: 0 8px 20px var(--shadow-color);
        }
        
        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px var(--shadow-color);
            border-color: var(--accent-color);
        }
        
        .pricing-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }
        
        .price {
            font-size: 2rem;
            font-weight: 700;
            margin: 1rem 0;
            color: var(--text-color);
        }
        
        .price-period {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .features {
            list-style: none;
            padding: 0;
            margin: 1.5rem 0;
            text-align: left;
        }
        
        .features li {
            margin-bottom: 0.6rem;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
        }
        
        .features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .cta-button {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 1rem;
            transition: all 0.3s ease;
            border: 2px solid var(--accent-color);
            font-size: 0.9rem;
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
        }
        
        .cta-button:hover {
            background: transparent;
            color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .highlight {
            background: rgba(74, 144, 226, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 3px solid var(--accent-color);
            margin: 1.5rem 0;
        }

        .bundle-offer {
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.15), rgba(106, 27, 154, 0.15));
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            border: 1px solid var(--accent-color);
        }

        .bundle-offer h3 {
            color: var(--text-color);
            margin-bottom: 1rem;
        }
        
        /* Form Page Styles - IMPROVED WIDER VERSION */
        .form-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 42, 0.98);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            overflow-y: auto;
            backdrop-filter: blur(15px);
            transition: all 0.8s ease;
            -webkit-overflow-scrolling: touch;
        }

        .form-container.active {
            display: flex;
        }

        .form-wrapper {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            width: 100%;
            max-width: 90vw;
            max-height: 85vh;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6);
            transition: all 0.8s ease;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .back-button {
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            display: inline-flex;
            align-items: center;
            padding: 0.7rem 1.2rem;
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
            cursor: pointer;
            align-self: flex-start;
            font-weight: 500;
        }

        .back-button:hover {
            color: var(--text-color);
            border-color: var(--accent-color);
            background: var(--glass-hover);
            transform: translateX(-5px);
        }

        .form-wrapper iframe {
            border: none;
            border-radius: 15px;
            width: 100%;
            height: 65vh;
            min-height: 500px;
            box-shadow: 0 8px 25px var(--shadow-color);
            flex: 1;
        }

        /* Drive Embed Styling */
        .drive-embed {
            width: 100%;
            height: 400px;
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 1.5rem;
            box-shadow: 0 8px 20px var(--shadow-color);
        }

        /* Footer Styles */
        footer {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border);
            padding: 2rem 1rem;
            text-align: center;
            margin-top: 1rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .footer-logo {
            max-width: 180px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 6px 20px var(--shadow-color);
        }

        .footer-text {
            font-size: 0.9rem;
            color: var(--text-muted);
            max-width: 90%;
        }

        /* Loading State */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        /* Error State */
        .error-message {
            color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 3px solid #e74c3c;
        }

        /* Tablet Styles */
        @media (min-width: 768px) {
            #night-mode-toggle {
                top: 25px;
                right: 25px;
                width: 55px;
                height: 55px;
                font-size: 1.6rem;
            }

            #header-nav {
                top: 25px;
                left: 25px;
            }

            .home-button {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }

            .page-heading {
                font-size: clamp(2.2rem, 6vw, 4rem);
            }

            .page-subheading {
                font-size: clamp(1.2rem, 3.5vw, 1.8rem);
            }

            .section-content {
                max-width: 700px;
                padding: 2.5rem;
            }

            .pricing-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            .form-wrapper {
                max-width: 85vw;
                padding: 2.5rem;
            }
            
            .form-wrapper iframe {
                height: 70vh;
                min-height: 600px;
            }

            .drive-embed {
                height: 500px;
            }

            .footer-logo {
                max-width: 200px;
            }
        }

        /* Desktop Styles */
        @media (min-width: 1024px) {
            .pricing-container {
                grid-template-columns: repeat(3, 1fr);
            }

            .section-content {
                max-width: 800px;
                padding: 3rem;
            }

            .form-wrapper {
                max-width: 80vw;
                padding: 3rem;
            }
            
            .form-wrapper iframe {
                height: 75vh;
                min-height: 650px;
            }
        }

        /* Large Desktop Styles */
        @media (min-width: 1200px) {
            .form-wrapper {
                max-width: 1000px;
            }
        }

        /* Very small mobile devices */
        @media (max-width: 360px) {
            #header-nav {
                top: 10px;
                left: 10px;
            }

            .home-button {
                padding: 0.6rem 1.2rem;
                font-size: 0.8rem;
            }

            .section-content {
                padding: 1.5rem 1rem;
            }

            .pricing-card {
                padding: 1.2rem;
            }

            .form-wrapper {
                padding: 1.5rem;
                max-width: 95vw;
                max-height: 90vh;
            }
            
            .form-wrapper iframe {
                height: 60vh;
                min-height: 450px;
            }

            .drive-embed {
                height: 300px;
            }
        }

        /* Fix for mobile scrolling */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
            }
            
            .content-section {
                min-height: auto;
                height: auto;
                overflow: visible;
            }
            
            .form-wrapper {
                margin: 0.5rem;
            }
            
            .form-wrapper iframe {
                height: 65vh;
            }
            
            .pricing-container {
                gap: 1rem;
            }
            
            .pricing-card {
                padding: 1.2rem;
            }
        }
    </style>
</head>
<body class="dark-theme">

    <!-- Night Mode Toggle -->
    <div id="night-mode-toggle" title="Toggle Theme">
        ‚òÄÔ∏è
    </div>

    <!-- Header Navigation -->
    <div id="header-nav">
        <a href="index.html" class="home-button">‚Üê Back to Home</a>
    </div>

    <!-- Star Background Canvas -->
    <canvas id="starCanvas"></canvas>

    <!-- Main Content -->
    <div id="main-content">
        <h1 class="page-heading">Our Courses</h1>
        <p class="page-subheading">Practical English education designed for real-world success</p>
    </div>

    <!-- Courses Section -->
    <section id="courses-section" class="content-section">
        <div class="section-content">
            <h2>Choose Your Learning Path</h2>
            <p>Each course is designed with practical application in mind, ensuring you gain skills you can immediately use in real-life situations.</p>
            
            <div class="pricing-container">
                <div class="pricing-card">
                    <h3>Spoken English Course</h3>
                    <div class="price">‡ß≥1,200<span class="price-period">/month</span></div>
                    <ul class="features">
                        <li>3 Zoom calls per week with qualified tutors</li>
                        <li>4 weeks per month subscription</li>
                        <li>Personalized study plan</li>
                        <li>Daily practice forms via email</li>
                        <li>Access to Facebook group resources</li>
                        <li><strong>10 DAYS FREE TRIAL</strong></li>
                    </ul>
                    <a href="#" class="cta-button" id="spoken-enroll-btn">Enroll Now</a>
                </div>
                
                <div class="pricing-card">
                    <h3>Basic Grammar + Certification</h3>
                    <div class="price">‡ß≥2,000<span class="price-period">/lifetime access</span></div>
                    <ul class="features">
                        <li>10 comprehensive modules</li>
                        <li>10 exams to test your knowledge</li>
                        <li>Writing practice and feedback</li>
                        <li>Free certification upon 70%+ score</li>
                        <li>Perfect foundation for advanced courses</li>
                    </ul>
                    <a href="#" class="cta-button" id="grammar-enroll-btn">Enroll Now</a>
                </div>
                
                <div class="pricing-card">
                    <h3>IELTS Preparation</h3>
                    <div class="price">‡ß≥2,500<span class="price-period">/month</span></div>
                    <ul class="features">
                        <li>Comprehensive coverage of all modules</li>
                        <li>Reading, Writing, Listening & Speaking</li>
                        <li>Expert strategies and techniques</li>
                        <li>Practice tests with detailed feedback</li>
                        <li><strong>1 MONTH FREE SPEAKING COURSE</strong></li>
                    </ul>
                    <a href="#" class="cta-button" id="ielts-enroll-btn">Enroll Now</a>
                </div>
            </div>
            
            <div class="bundle-offer">
                <h3>Special Bundle Offer</h3>
                <p>Enroll in both Basic Grammar and Speaking courses to receive a <strong>FREE certification</strong> upon clearing all exams with 70% or above!</p>
                <p>Perfect combination for comprehensive English mastery.</p>
            </div>
            
            <div class="highlight">
                <h3>How Our System Works</h3>
                <p>After enrollment, you'll receive all details and resources for your preparation. Our automated system will send you daily practice forms, and you'll get access to our complete resource library in our private Facebook group. Plus, you'll have 3 weekly Zoom sessions with highly qualified tutors to perfect your speaking skills.</p>
            </div>

            <div class="highlight">
                <h3>Learning Resources</h3>
                <p>Access our comprehensive library of learning materials designed to accelerate your English mastery.</p>
                <div class="drive-embed">
                    <iframe src="https://drive.google.com/embeddedfolderview?id=1QJeOxf--y3ucC4lw-RIkfQYaEabgco6A#list" width="100%" height="100%"></iframe>
                </div>
            </div>
            
            <div class="highlight">
                <h3>Coming Soon: Python Programming</h3>
                <p>We're expanding to tech education! Our upcoming Python course will include:</p>
                <ul>
                    <li>10 comprehensive modules from basics to AI applications</li>
                    <li>10 expert-led lectures</li>
                    <li>20 hands-on practice projects</li>
                    <li>10 interactive coding labs</li>
                    <li>Industry-recognized certification</li>
                    <li>6 months access for only ‡ß≥1,500</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Google Form Page -->
    <div id="form-page" class="form-container">
        <div class="form-wrapper">
            <a href="#" class="back-button" id="back-button">‚Üê Back to Courses</a>
            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSeRxTcV7R06ToDUUCarpZdGU7CwOGk-k1DYJe4ck409-HVr0w/viewform?embedded=true" width="100%" height="978" frameborder="0" marginheight="0" marginwidth="0">Loading‚Ä¶</iframe>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <img src="maven-logo.jpg" alt="Maven Academy" class="footer-logo" onerror="this.style.display='none'">
            <p class="footer-text">Maven Academy - Where Theory Meets Practice</p>
            <p class="footer-text">¬© 2023 Maven Academy. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Enhanced JavaScript with error handling and mobile fixes
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const nightModeToggle = document.getElementById('night-mode-toggle');
            const body = document.body;
            const formPage = document.getElementById('form-page');
            const spokenEnrollBtn = document.getElementById('spoken-enroll-btn');
            const grammarEnrollBtn = document.getElementById('grammar-enroll-btn');
            const ieltsEnrollBtn = document.getElementById('ielts-enroll-btn');
            const backButton = document.getElementById('back-button');
            const contentSections = document.querySelectorAll('.content-section');
            
            // State variables
            let stars = [];
            let animationFrameId;

            // Initialize application
            initializeApp();

            function initializeApp() {
                try {
                    // Load saved theme or set default
                    const savedTheme = localStorage.getItem('theme') || 'dark-theme';
                    body.className = savedTheme;
                    updateToggleEmoji();
                    
                    // Initialize stars
                    initializeStars();
                    
                    // Set up event listeners
                    setupEventListeners();
                    
                    // Trigger initial animation
                    setTimeout(() => {
                        if (contentSections.length > 0) {
                            contentSections[0].classList.add('visible');
                        }
                    }, 500);
                    
                } catch (error) {
                    console.error('Error initializing app:', error);
                }
            }

            function setupEventListeners() {
                // Night mode toggle
                nightModeToggle.addEventListener('click', toggleTheme);
                
                // Form handling
                spokenEnrollBtn.addEventListener('click', handleFormOpen);
                grammarEnrollBtn.addEventListener('click', handleFormOpen);
                ieltsEnrollBtn.addEventListener('click', handleFormOpen);
                backButton.addEventListener('click', handleFormClose);
                
                // Scroll animations for sections
                window.addEventListener('scroll', handleScroll, { passive: true });
                
                // Touch events for better mobile
                document.addEventListener('touchstart', function() {}, { passive: true });
                document.addEventListener('touchmove', function() {}, { passive: true });
            }

            function toggleTheme() {
                try {
                    body.style.transition = 'all 1.2s ease';
                    
                    if (body.classList.contains('light-theme')) {
                        body.classList.remove('light-theme');
                        body.classList.add('dark-theme');
                        localStorage.setItem('theme', 'dark-theme');
                    } else {
                        body.classList.remove('dark-theme');
                        body.classList.add('light-theme');
                        localStorage.setItem('theme', 'light-theme');
                    }
                    updateToggleEmoji();
                    updateStars();
                } catch (error) {
                    console.error('Error toggling theme:', error);
                }
            }

            function updateToggleEmoji() {
                try {
                    if (body.classList.contains('dark-theme')) {
                        nightModeToggle.innerHTML = '‚òÄÔ∏è';
                    } else {
                        nightModeToggle.innerHTML = 'üåô';
                    }
                } catch (error) {
                    console.error('Error updating toggle emoji:', error);
                }
            }

            function handleFormOpen(e) {
                e.preventDefault();
                try {
                    formPage.classList.add('active');
                    document.body.style.overflow = 'hidden';
                } catch (error) {
                    console.error('Error opening form:', error);
                }
            }

            function handleFormClose(e) {
                e.preventDefault();
                try {
                    formPage.classList.remove('active');
                    document.body.style.overflow = 'auto';
                } catch (error) {
                    console.error('Error closing form:', error);
                }
            }

            function handleScroll() {
                try {
                    contentSections.forEach(section => {
                        const rect = section.getBoundingClientRect();
                        if (rect.top < window.innerHeight * 0.75 && rect.bottom > 0) {
                            section.style.transition = 'all 1.5s cubic-bezier(0.19, 1, 0.22, 1)';
                            section.classList.add('visible');
                        }
                    });
                } catch (error) {
                    console.error('Error handling scroll:', error);
                }
            }

            // Star Background Implementation
            function initializeStars() {
                try {
                    const canvas = document.getElementById('starCanvas');
                    if (!canvas) return;
                    
                    const ctx = canvas.getContext('2d');
                    let mouseX = 0;
                    let mouseY = 0;
                    
                    function setCanvasSize() {
                        canvas.width = window.innerWidth;
                        canvas.height = window.innerHeight;
                    }
                    
                    setCanvasSize();
                    window.addEventListener('resize', setCanvasSize);
                    
                    class Star {
                        constructor() {
                            this.x = Math.random() * canvas.width;
                            this.y = Math.random() * canvas.height;
                            this.baseSize = Math.random() * 1.5 + 0.5;
                            this.size = this.baseSize;
                            this.speedX = (Math.random() - 0.5) * 0.2;
                            this.speedY = (Math.random() - 0.5) * 0.2;
                            this.opacity = Math.random() * 0.8 + 0.3;
                            this.baseX = this.x;
                            this.baseY = this.y;
                            this.pulseSpeed = Math.random() * 0.008 + 0.004;
                            this.pulseOffset = Math.random() * Math.PI * 2;
                            this.flickerTimer = 0;
                            this.flickerDelay = Math.random() * 100 + 60;
                            this.flickerIntensity = 0;
                            this.updateColor();
                        }
                        
                        updateColor() {
                            const isDarkTheme = document.body.classList.contains('dark-theme');
                            
                            if (isDarkTheme) {
                                this.colorType = Math.random();
                                if (this.colorType < 0.6) {
                                    this.color = { r: 255, g: 255, b: 255 };
                                } else if (this.colorType < 0.8) {
                                    this.color = { r: 200, g: 220, b: 255 };
                                } else if (this.colorType < 0.9) {
                                    this.color = { r: 180, g: 255, b: 255 };
                                } else {
                                    this.color = { r: 255, g: 220, b: 180 };
                                }
                            } else {
                                this.color = { r: 30, g: 30, b: 50 };
                            }
                        }
                        
                        update() {
                            const dx = mouseX - this.x;
                            const dy = mouseY - this.y;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            const maxDistance = 120;
                            
                            if (distance < maxDistance) {
                                const force = (maxDistance - distance) / maxDistance;
                                this.x -= (dx / distance) * force * 2;
                                this.y -= (dy / distance) * force * 2;
                            } else {
                                this.x += (this.baseX - this.x) * 0.015;
                                this.y += (this.baseY - this.y) * 0.015;
                            }
                            
                            this.x += this.speedX;
                            this.y += this.speedY;
                            
                            if (this.x < -20) this.x = canvas.width + 20;
                            if (this.x > canvas.width + 20) this.x = -20;
                            if (this.y < -20) this.y = canvas.height + 20;
                            if (this.y > canvas.height + 20) this.y = -20;
                            
                            this.flickerTimer++;
                            if (this.flickerTimer > this.flickerDelay) {
                                this.flickerTimer = 0;
                                this.flickerDelay = Math.random() * 80 + 60;
                                this.flickerIntensity = Math.random() * 0.8 + 0.5;
                                this.opacity = Math.random() * 0.6 + 0.4;
                            }
                            
                            const pulse = Math.sin(Date.now() * this.pulseSpeed + this.pulseOffset) * 0.3;
                            this.currentOpacity = Math.max(0.3, Math.min(0.9, this.opacity + pulse));
                            this.size = this.baseSize * (1 + this.flickerIntensity * 0.7);
                        }
                        
                        draw() {
                            ctx.beginPath();
                            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                            ctx.fillStyle = `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.currentOpacity})`;
                            ctx.fill();
                            
                            ctx.beginPath();
                            ctx.arc(this.x, this.y, this.size * 4, 0, Math.PI * 2);
                            const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size * 4);
                            gradient.addColorStop(0, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.currentOpacity * 0.6})`);
                            gradient.addColorStop(0.5, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.currentOpacity * 0.3})`);
                            gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
                            ctx.fillStyle = gradient;
                            ctx.fill();
                        }
                    }
                    
                    stars = [];
                    const starCount = Math.min(80, Math.floor((window.innerWidth * window.innerHeight) / 3500));
                    
                    for (let i = 0; i < starCount; i++) {
                        stars.push(new Star());
                    }
                    
                    function drawConnections() {
                        const isDarkTheme = document.body.classList.contains('dark-theme');
                        const connectionColor = isDarkTheme ? '255, 255, 255' : '30, 30, 50';
                        
                        for (let i = 0; i < stars.length; i++) {
                            for (let j = i + 1; j < stars.length; j++) {
                                const dx = stars[i].x - stars[j].x;
                                const dy = stars[i].y - stars[j].y;
                                const distance = Math.sqrt(dx * dx + dy * dy);
                                
                                if (distance < 100) {
                                    ctx.beginPath();
                                    ctx.moveTo(stars[i].x, stars[i].y);
                                    ctx.lineTo(stars[j].x, stars[j].y);
                                    
                                    const connectionOpacity = 0.3 * (1 - distance / 100);
                                    ctx.strokeStyle = `rgba(${connectionColor}, ${connectionOpacity})`;
                                    ctx.lineWidth = 1.2;
                                    ctx.stroke();
                                }
                            }
                        }
                    }
                    
                    function animate() {
                        const isDarkTheme = document.body.classList.contains('dark-theme');
                        ctx.fillStyle = isDarkTheme ? '#0a0a2a' : '#ffffff';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                        
                        drawConnections();
                        
                        stars.forEach(star => {
                            star.update();
                            star.draw();
                        });
                        
                        animationFrameId = requestAnimationFrame(animate);
                    }
                    
                    function handleMouseMove(e) {
                        mouseX = e.clientX;
                        mouseY = e.clientY;
                    }
                    
                    function handleTouchMove(e) {
                        if (e.touches.length > 0) {
                            mouseX = e.touches[0].clientX;
                            mouseY = e.touches[0].clientY;
                        }
                    }
                    
                    window.addEventListener('mousemove', handleMouseMove);
                    window.addEventListener('touchmove', handleTouchMove, { passive: true });
                    
                    if (animationFrameId) {
                        cancelAnimationFrame(animationFrameId);
                    }
                    animate();
                    
                } catch (error) {
                    console.error('Error initializing stars:', error);
                }
            }

            function updateStars() {
                try {
                    stars.forEach(star => {
                        if (star && typeof star.updateColor === 'function') {
                            star.updateColor();
                        }
                    });
                } catch (error) {
                    console.error('Error updating stars:', error);
                }
            }
        });
    </script>
</body>
</html>
